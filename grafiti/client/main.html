<head>
  <title>grafiti</title>
</head>

<body>
  <h1>Grafiti</h1>
  {{> pages}}
  <div id="__blaze-root">
    <div id="withoutweb3" hidden>
    {{> error}}
    </div>
    {{> main}}
  </div>
</body>

<template name="main">
  {{> Template.dynamic template=main}}
</template>

<template name="pages">
  <ul class="pages nav">
    <li>
      <a href="/">Browse</a>
    </li>
    <li>
      <a href="/submit">Submit</a>
    </li>
    <li>
      <a href="/about">About</a>
    </li>
  </ul>
</template>

<template name="info">
  <ul class="pages nav">
    <li>
      <a id="prev" href="/">Prev</a>
    </li>
    <li>
      <a id="rand" href="/random">Random</a>
    </li>
    <li>
      <a id="next" href="/">Next</a>
    </li>
  </ul>
  <h2 class="pubtit inline">{{title}}</h2>
  <p class="inline">#{{index}}</p>
  <p class="author"><p id="author-index" class="inline hidden">#{{authorIndex}}</p> by <a id='info-author'>{{authorName}}</a></p>
  <div id="pubconerr" hidden>
    <p class="error">{{contentError}}</p>
  </div>
  <pre class="pubcon">{{content}}<img id="pubconimg"/></pre>
</template>

<template name="submit">
  Title: <input id= "submit-title" type="text" name="title"/>
  <br>
  Content: <textarea cols="80" rows="4" id="submit-content" type="text" name="content"></textarea>
  <br>
  <input id="submit-reset" type="reset"/>
  <input id="submit-submit" type="submit" value="Submit"/>
  or
  <input id="submit-file" type="file"/>

  <div id="onSuccess" hidden>
  {{> success}}
  </div>
  <div>
    <h2 id="submit-preview-title" class="pubtit">Preview</h2>
    <pre id="submit-preview" class="pubcon">{{preview}}<img id="submit-preview-img"/></pre>
  </div>
</template>

<template name="success">
  <p class="success">Transaction submitted! Watch it on <a id="success-etherscan">Etherscan</a>, then refresh.</p>
</template>

<template name="about">
  <p>
    Grafiti lets you scratch anything you want into the blockchain. You only pay a one-time network fee. Ethereum will preserve it forever.
  </p>
  <h3>What is Ethereum?</h3>
    <p>      
      Ethereum is the second-most valuable cryptocurrency network in terms of market capitalization, behind Bitcoin.
      It differs from Bitcoin in several ways, the most important being that its smart contracts are <a href="https://en.wikipedia.org/wiki/Turing_completeness">Turing Complete</a>.
      This means smart contracts are general-purpose programs.
      Code deployed to Ethereum is immutable, so the terms of contracts never change.
      All code and code execution is auditable public record on the <a href="https://en.wikipedia.org/wiki/Blockchain">blockchain</a>.
      Identity and privacy are protected via <a href="https://en.wikipedia.org/wiki/Public-key_cryptography">public key cryptography</a>.
    </p>
    <p>
      Read more about Ethereum from its <a href="https://github.com/ethereum/wiki/wiki/White-Paper">White Paper</a>.
    </p>
  <h3>What is Pub?</h3>
    <p>
      <a href="https://github.com/wjmelements/pub/">Pub</a> is a contract deployed on Ethereum.
      It facilitates arbitrary publication.
      Everything published through Pub will be replicated by Ethereum indefinitely.
      Pub is immutable.
      Pub is uncensorable.
      Pub is forever.
    </p>
    <p>
      Read the contract on <a href="https://etherscan.io/address/0x2a0f713aA953442EacA9EA47083f656170e67BA4#code">Etherscan.io</a>.
    </p>
  <h3>What is Grafiti?</h3>
    <p>
      Grafiti is a serverless front-end for Pub.
      Data requests are handled by the decentralized Ethereum Network.
      Along with the Ethereum and Pub, Grafiti is <a href="https://github.com/wjmelements/pub/">open source</a>, so anyone can help with development, even you.
    </p>
</template>

<template name="error">
  <p class="error">Your browser does not support Web3. Web 3.0 support is required to interact with Ethereum. If you are using Chrome or Firefox, install the <a href="https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn">Metamask extension</a>. Alternatively, download the <a href="https://github.com/ethereum/mist/releases">Mist browser</a>.</p>
</template>
