<head>
  <title>grafiti</title>
</head>

<body>
  <h1>Grafiti</h1>
  {{> pages}}
  <div id="__blaze-root">
    <div id="withoutweb3" hidden>
    {{> error}}
    </div>
    {{> main}}
  </div>
</body>

<template name="main">
  {{> Template.dynamic template=main}}
</template>

<template name="pages">
  <ul class="pages nav">
    <li>
      <a href="/">Browse</a>
    </li>
    <li>
      <a href="/submit">Submit</a>
    </li>
    <li>
      <a href="/about">About</a>
    </li>
  </ul>
</template>

<template name="info">
  <h2 class="pubtit inline">{{title}}</h2>
  <p class="inline">#{{index}}</p>
  <ul class="nav inline">
    <li>
      <a id="prev" href="/">Prev</a>
    </li>
    <li>
      <a id="rand" href="/random">Random</a>
    </li>
    <li>
      <a id="next" href="/">Next</a>
    </li>
  </ul>
  <p class="author">by <a id='info-author' href={{authorUrl}}>{{authorName}}</a></p>
  <pre class="pubcon">{{content}}</pre>
</template>

<template name="submit">
  Title: <input id= "submit-title" type="text" name="title"/>
  <br>
  Content: <textarea cols="80" rows="4" id="submit-content" type="text" name="content"></textarea>
  <br>
  <input id="submit-submit" type="submit"/>

  <div id="onSuccess" hidden>
  {{> success}}
  </div>
  <div>
    <h2 id="submit-preview-title" class="pubtit">Preview</h2>
    <pre id="submit-preview">
    </pre>
  </div>
</template>

<template name="success">
  <p class="success">Transaction submitted! Watch it on <a id="success-etherscan">Etherscan</a>, then refresh.</p>
</template>

<template name="about">
  <h3>What is Ethereum?</h3>
    <p>      
      Ethereum is the second-most valuable cryptocurrency network in terms of market capitalization, behind Bitcoin.
      It differs from Bitcoin in several ways, the most important being that its smart contracts are <a href="https://en.wikipedia.org/wiki/Turing_completeness">Turing Complete</a>.
      This means smart contracts can be used for arbitrary purposes.
      Code deployed to Ethereum is immutable, so the terms of contracts never change.
      All transactions are public record on the <a href="https://en.wikipedia.org/wiki/Blockchain">blockchain</a>, so they are verified and auditable.
      Identity and privacy are protected via <a href="https://en.wikipedia.org/wiki/Public-key_cryptography">public key cryptography</a>.
    </p>
    <p>
      Read more about Ethereum from its <a href="https://github.com/ethereum/wiki/wiki/White-Paper">White Paper</a>.
    </p>
  <h3>What is Pub?</h3>
    <p>
      <a href="https://github.com/wjmelements/pub/">Pub</a> is a contract deployed on Ethereum.
      It facilitates arbitrary publication.
      Everything published through Pub will be replicated by Ethereum indefinitely.
      Pub is immutable.
      Pub is forever.
    </p>
    <p>
      Read the contract on <a href="https://etherscan.io/address/0x80d9b122dc3a16fdc41f96cf010ffe7e38d227c3#code">Etherscan.io</a>.
    </p>
  <h3>What is Grafiti?</h3>
    <p>
      Grafiti is a serverless front-end for Pub.
      Data requests are handled by the decentralized Ethereum Network.
    </p>
</template>

<template name="error">
  <p class="error">Your browser does not support Web3. If you are using Chrome or Firefox, install the <a href="https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn">Metamask extension</a>. Alternatively, download the <a href="https://github.com/ethereum/mist/releases">Mist browser</a>.</p>
</template>
